[TOC]
# v2.4 (2019.08.05~2019.11.30)

- 优化Markdown文档目录
- 文件浏览模式优化（操作选项组织到一个下拉列表中）
- 支持Python 3.7
- 支持Windows的64位版本
- 新增评论功能
- 笔记的详情页在PC上面分三栏展示，分别是菜单、目录、正文
- 采用font-awesome，大幅优化交互体验
- 相册的路径优化，放在`files/<userName>`目录下，以id作为文件夹名称，归档到`files/<userName>/gallery/<id后两位>/<id>`
- CSS模块化
- 归档笔记的功能，归档之后的笔记本放入统一的大类【已归档】，就是不活跃的笔记，多用于工作记录之类的。
- 批量移动笔记功能
- 待办功能的优化: 1. 增加更多的tab页; 2. 显示各个分类的数量 3. 增加话题模式
- 插件支持二级目录

# v2.3 （2019.04.01~2019.08.04）
- [x] 数据库更新为leveldb，主要考虑到以下几点
    - sqlite在SAE上面运行缓慢（可能是共享存储的seek性能较差，替换成leveldb之后性能大幅提升）
    - 没有关系型数据的模式限制，更加灵活
    - KV存储的替代方案非常多，只需要支持Get/Put/Scan/Delete四种操作即可，自己实现一个都可以
    - 支持大规模数据，做水平扩展方便
    - 性能调优也比较方便，通过冗余设计即可，相比于关系型数据库的复杂程度，KV数据库简直不要太简单。
- [x] 上传文件管理功能
    - 普通用户可以使用
    - 支持上传、重命名、删除、搜索
- [x] 笔记修改记录
- [x] 笔记按月归档
- [x] 笔记置顶功能
- [x] 导航调整，【更多】改成【系统】，专注于设置和系统管理。
- [x] 导航调整，【插件】改成【工具】
- [x] 提醒记录IP信息
- [x] 删除自定义菜单导航功能
- [x] 支持相册类型的笔记
- [x] 界面优化

# v2.2（2018.12.16~2019.03.31）
- [x] Add 导航菜单配置化
- [x] Add 电子表格功能，基于jexcel
- [x] Add 词典编辑功能，仅管理员可用
- [x] Add 笔记的历史版本记录（界面功能暂未完成）
- [x] Improve 首页信息聚合，使操作更加快捷
- [x] Improve 文件管理器，支持批量删除、批量粘贴
- [x] Improve 代码编辑器，支持自动补全
- [x] Refactor 缓存目录从`etc`改为`storage`
- [x] 定义插件分类，在不同的场景展示响应分类的插件作为扩展功能。
    - 文件管理器选项增加更多的文件处理方式。插件需要显示列表让用户选择一个。
- [x] 规范文件上传生成的文件名，`类型@用户@文件名@时间.后缀名`


# v2.1（2018.09.16~2018.12.15）
- [x] Fix 清空剪切板功能
- [x] 文件管理器预览模式
- [x] 卡片式布局、切换主题
- [x] 插件的优化，应用启动时初始化，生产环境执行代码缓存
- [x] 文本阅读器的优化，支持快捷键
- [x] 系统设置集中化、支持在系统状态中切换调试状态、主题、语言等等
- [x] 插件默认使用admin权限拦截
- [x] 系统日志功能，实现了内存版的系统日志，还需要考虑持久化的问题
- [x] 持久化搜索历史
- [x] 增强cache的能力，使用json格式，增强通用性
- [x] 多语言支持
- [x] 笔记推荐系统接口
- [x] 提醒支持hashtag
- [x] 引入分词器

# v2.0功能 (2018.07.04 - 2018.09.15)
v2.0版本主要目标是增强扩展能力。

- [x] 从模板创建插件，使用插件完成
- [x] 插件的基类BasePlugin
- [x] 最近使用的5个插件
- [x] 缓存的持久化
- [x] 首页性能提升
- [x] file表做垂直拆分，内容移动到```note_content```表
- [x] code/view\_source 限制文件大小(500K)，超过默认大小只展示部分内容，不允许修改
- [x] 自定义CSS和JS脚本
- [x] 修改文档的默认排序
- [x] 编辑器TODO样式的优化
- [x] 分页的优化
- [x] 优化侧边栏
- [x] 登录失败重试的限制
- [x] 通过标签实现文档收藏的功能
- [x] 文件管理的剪切粘贴功能



# xnote v1.5 (2018.05.01 - 2018.07.03)

## 新增
- [x] 扩展命令confirmed参数，input输入参数
- [x] 扩展命令不再显示按钮
- [x] 扩展命令支持html格式
- [x] 扩展命令的别名alias
- [x] 页面扩展scripts/pages
- [x] 借助iframe实现分屏功能，不需要在开多个窗口切换
- [x] 文件浏览器分栏模式
- [x] 文件自动分类，先按日期自动整理，通过插件完成
- [x] 笔记的数据报表-整体情况，环比，同比
- [x] 监听文档的新增、重命名事件，实时更新name的缓存
- [x] 搜索不强制要求登录，可以搜索公开的笔记
- [x] 浏览器标签页显示文档标题
- [x] 记录最近的访问记录，统计最近最常访问
- ~~Markdown的代码高亮，先做一个关键字的高亮，工作量不小而且要一直更新，放弃~~
- ~~支持流程图绘制，非核心功能，不做了，利用现有的工具~~
- ~~支持jsonview，非核心功能，放弃~~
- ~~TODO的快捷按钮，必要性不大，放弃~~

## 更新
- [x] 主界面优化，增加侧边栏统计数据
- [x] 用户管理优化，左右分栏模式
- [x] 优化删除线按钮，已经加上删除线的再点击取消删除线

## 修复
- [x] 若干API的错误
- [x] 扩展命令的编辑超链接
- [x] /fs\_shell链接异常, ```xutils.get_real_path``` 没有判断参数为None

## 删除
- ```api/monitor_task```，似乎一直没有用过
- ```system/app_admin``` 使用文件管理即可
- ```code/code_format``` 没怎么用过
- ```tools/httpd``` 没什么用处
- ```tools/http_proxy``` 没什么用
- ```note/table.html``` 废弃

## 命令
- [x] 事件监听器管理

# xnote v1.4 (2018.02.09 - 2018.04.30)

## 新增
- 新的网格首页和导航样式
- 添加自定义的工具链接，自定义存储 /system/storage?key=tools
- markdown编辑器【格式化表格】
- URL编解码工具
- 操作行为历史记录，限制200条

## 更新
- 调整主界面的宽度，调整导航栏，突出搜索框
- 表格样式的统一优化
- 分页支持跳转到最后一页
- 公告的API支持wday
- handlers/file重命名为handlers/note
- 搜索优化，图书搜索移出默认操作，加快搜索速度
- markdown的图片居中

## 修复
- utils.js的getUrlParams方法进行urldecode

## 删除
- 脚本的搜索功能，没有必要，交互上也比较混乱，后续考虑全部复用公共搜索框


# xnote v1.3.1 (2018.01.20 - 2018.02.08)

## 新增功能
- 支持token的方式校验权限
- markdown编辑器上传图片压缩

## BugFix
- Fix urlencode模式删除中文文件失败
- Fix 重命名权限
- Fix csv中文名预览

# xnote v1.3 （2017.12.01 - 2018.01.19）

缓存，搜索升级，性能优化，系统通知，代码规范


## 新增功能

- [x] 指定启动脚本参数
- [x] 公告提醒，通过脚本配置
- [x] 系统配置项，使用启动脚本配置，不依赖数据库
- [x] 缓存支持
- [x] 统一规则定义

## 优化更新
- [x] markdown编辑器体验优化，加粗、删除线等
- [x] 文章的重命名、删除移到浏览页面，编辑页面只保留内容修改
- [x] 优化搜索内部实现
- [x] 主页搜索加入文件系统搜索结果
- [x] 知识库列表优化，简化信息展示
- [x] 短消息中的资源文件放入files目录
- [x] 文件管理器优化，支持csv文件预览，txt文件阅读器，新增文件功能
- [x] 文件管理器urlencode不默认开启，通过启动参数来指定
- [x] 数据库搜索的性能优化

# xnote v1.2 (2017.10.04-2017.11.30) 

UI升级，分组，任务清单，系统升级

1.2版本主要新增任务清单功能以及大量优化工作，主要如下

## 新的功能——清单列表
- 由原来的留言板改造而来，复用message表
- 清单在用户之间是隔离的
- 清单有两个状态，进行中和完成
- 支持清单的添加、编辑和状态变更

## 功能优化
- 使用侧边栏响应式，支持快捷访问，减少操作复杂度
- 交互上使用ajax提高体验，知识库保持静态化
- 增加分组类型
- 优化MD编辑器的样式
- ~~自动保存功能~~，考虑之后放弃
- 增加富文本编辑器
- 搜索优化，默认只搜索标题，减少无用信息
- 文件管理器优化，隐藏不常用功能按钮
- 支持无sqlite启动（主要为了支持jython），作为文件夹管理工具
- 定时任务优化，使用线程池而不是新开线程

## 数据升级与兼容

- 本次升级可能会引起部分不兼容情况,README里说明了升级方案

# xnote v1.1 (2017.07.20-2017.10.03) 

**兼容，支持Python2、Jython**，这个版本主要是一些bugfix和对原有功能的优化

## 系统增强
 - [x] 警告定义跨目录的url-pattern，避免覆盖
 - [x] 脚本管理支持添加自定义Python脚本，支持输出到web页面
 - [x] 定时任务支持自定义脚本`script://{script_name}`
 - [x] UI交互优化，原来的系统页面从简单的列表优化成分类块
 
## Python2 兼容
 - [x] markdown编辑器
 - [x] 搜索
 - [x] 其他工具
 
## 编辑器优化
 - [x] 保存按钮优化
 
## 文件浏览器升级
 - [x] 预览图片
 - [x] 文件搜索
 - [x] 新建文件夹
 
## 工具
 - [x] 留言板功能
 - [x] 图片合并工具
 - [x] 图片分离工具

# xnote v1.0 (2016.12.04~2017.07.19)
- [x] 资料查看、编辑、搜索
- [x] 文件浏览器
- [x] 定时任务
- [x] 日历关联创建的资料
- [x] 日历显示当月添加的资料，按照时间倒序排列
- [x] 记录访问日志
- [x] 备份功能优化，包括导入导出，按月份导入导出（集成在文件管理的压缩功能）
- [x] WebUploader
- [x] 语音提醒，静音功能
- [x] 时光轴